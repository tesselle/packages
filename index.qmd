---
pagetitle: "tesselle: R Packages & Archaeology"
resources: 
  - "sitemapindex.xml"
listing:
  - id: gallery
    template: gallery.ejs
    contents: gallery.yml
    sort-ui: false
    filter-ui: true
---

```{r}
#| label: packages 
#| echo: false
## Get packages info
repo <- utils::contrib.url("https://tesselle.r-universe.dev")
pkg <- utils::available.packages(contriburl = repo)
pkg <- as.data.frame(pkg)
url_pkg <- sprintf("https://packages.tesselle.org/%s", pkg$Package)
```

```{r}
#| label: sitemap 
#| echo: false
## Build sitemap index
loc <- paste0(url_pkg, "/sitemap.xml")
map <- sprintf("  <sitemap>\n    <loc>%s</loc>\n  </sitemap>", loc)
cat(
  '<?xml version="1.0" encoding="UTF-8"?>',
  '<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',
  '  <sitemap>',
  '    <loc>https://packages.tesselle.org/sitemap.xml</loc>',
  '  </sitemap>',
  map,
  '</sitemapindex>',
  file = "sitemapindex.xml",
  sep = "\n",
  append = FALSE
)
```

::: {.column-page}
# R Packages

::: {#gallery}
:::

:::
